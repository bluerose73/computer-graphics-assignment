# 使用说明

马圣杰 1900013066

## build

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

## 作业一 手的运动

摆姿势按键：J K L U I

## 作业二 相机

#### 操作

上下左右平移：W A S D

左右滚转：Q E

转动视角：鼠标移动

前进后退：鼠标左键 / 右键

空格：把当前相机位姿设为巡逻目标点

P：开始/结束巡逻；巡逻会在当前位置和之前设置的目标点之间往复

- 按照要求，一开始巡逻目标点已经设置好，直接按 P 可以开始巡逻

#### 加分项

**更加丰富灵活的相机控制方式**

该相机可以控制 3 个自由度的平移和 3 个自由度的旋转（只用 WASD + 鼠标移动控制的相机，是 2 个自由度的平移 + 2 个自由度的旋转）

注：这个相机的转动视角和用欧拉角实现的相机不同，每一帧的转动轴垂直于相机前向向量，也垂直于鼠标移动方向。
这会造成一些奇怪的结果，比如：

- 先向右转再向上转，先向上转再向右转，结果不一样。这是因为旋转本来就是不可交换的（但是用欧拉角实现的相机，旋转是可以交换的）

- 用鼠标顺时针画圈，发现手的模型逆时针转，也就是相机在 roll 轴有了旋转

但是他们都是特性，不是 bug，这样的相机在一些驾驶太空飞船的游戏中也可以见到。

## 作业3 光照 + 粒子系统

实现了冯模型，一个火焰的粒子系统。

控制：上、下、左、右、Z、W 移动火焰

粒子系统有一个瑕疵，可以看到有的方块颜色很浅像缺了一块。这是因为深度测试和 alpha 混合都开着，如果第一次绘制的粒子离相机最近，后边的粒子不会往上叠加。需要按从远到近的顺序绘制，但对于 10000 个粒子的系统可能负担太大。

## 作业4 法线贴图

渲染了一个带法线贴图的立方体。立方体不能移动，但相机和光源可以移动，控制见作业 2 和 3。